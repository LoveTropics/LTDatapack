# run start_end_game function
schedule function lt:game/party/race_standard/player/start_end_game 2s
execute as @a[tag=game.party.turtle_race.standard.player.competitor] at @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=1},limit=1] run function lt:game/party/race_standard/player/mark_checkpoint_time

tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":"          "},{"text":" ★ ","color":"#166D86"},{"text":"Spleef Placements","color":"#89C521"},{"text":" ★ ","color":"#166D86"}]

tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"}]

# Show message with winners omegalul
# Winner #1
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=1,r.s.time_mil=10..,r.s.time_sec=10..},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"1st","color":"#89C521"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=1,r.s.time_mil=..9,r.s.time_sec=10..},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"1st","color":"#89C521"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=1,r.s.time_mil=10..,r.s.time_sec=..9},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"1st","color":"#89C521"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=1,r.s.time_mil=..9,r.s.time_sec=..9},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"1st","color":"#89C521"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @  ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]


# Winner 2 #D7D7D7
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=2,r.s.time_mil=10..,r.s.time_sec=10..},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"2nd","color":"#47875B"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=2,r.s.time_mil=..9,r.s.time_sec=10..},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"2nd","color":"#47875B"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=2,r.s.time_mil=10..,r.s.time_sec=..9},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"2nd","color":"#47875B"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=2,r.s.time_mil=..9,r.s.time_sec=..9},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"2nd","color":"#47875B"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @  ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]



#Shitty Shitty loser the least #AD8A56
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=3,r.s.time_mil=10..,r.s.time_sec=10..},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"3rd","color":"#166D86"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=3,r.s.time_mil=..9,r.s.time_sec=10..},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"3rd","color":"#166D86"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=3,r.s.time_mil=10..,r.s.time_sec=..9},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"3rd","color":"#166D86"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,scores={r.s.p_placement=3,r.s.time_mil=..9,r.s.time_sec=..9},limit=1] at @s run tellraw @a[tag=game.party.turtle_race.standard.player] [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"3rd","color":"#166D86"},{"text":" - ","color":"gray"},{"selector":"@s","color":"white"},{"text":" @  ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]

tellraw @a [{"text":"| ","color":"dark_gray"}]

# show shitty shitty losers their own times.
execute as @a[tag=game.party.turtle_race.standard.player.competitor,tag=game.party.turtle_race.standard.player.competitor.finished_race,scores={r.s.p_placement=4..,r.s.time_mil=10..,r.s.time_sec=10..},limit=1] at @s run tellraw @s [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"You","color":"yellow"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,tag=game.party.turtle_race.standard.player.competitor.finished_race,scores={r.s.p_placement=3,r.s.time_mil=..9,r.s.time_sec=10..},limit=1] at @s run tellraw @s [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"You","color":"yellow"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,tag=game.party.turtle_race.standard.player.competitor.finished_race,scores={r.s.p_placement=3,r.s.time_mil=10..,r.s.time_sec=..9},limit=1] at @s run tellraw @s [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"You","color":"yellow"},{"text":" @ ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]
execute as @a[tag=game.party.turtle_race.standard.player.competitor,tag=game.party.turtle_race.standard.player.competitor.finished_race,scores={r.s.p_placement=3,r.s.time_mil=..9,r.s.time_sec=..9},limit=1] at @s run tellraw @s [{"text":"| ","color":"dark_gray"},{"text":""},{"text":"You","color":"yellow"},{"text":" @  ","color":"gray"},{"score":{"name":"@s","objective":"r.s.time_min"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_sec"},"color":"yellow"},{"text":":","color":"gray"},{"text":"0","color":"yellow"},{"score":{"name":"@s","objective":"r.s.time_mil"},"color":"yellow"}]

tellraw @a[tag=game.party.turtle_race.standard.player.competitor,tag=!game.party.turtle_race.standard.player.competitor.finished_race] [{"text":"| ","color":"dark_gray"},{"text":"You","color":"yellow"},{"text":" @ ","color":"gray"},{"text":"Race not completed.","color":"gray"}]

execute as @a[tag=game.party.turtle_race.standard.player] at @s run playsound minecraft:ui.toast.challenge_complete master @s ~ ~ ~ 1.2 1

#show titles
title @a[tag=game.party.turtle_race.standard.player] times 5 45 5
title @s title {"text":"Race Complete!","color":"#89C521"}
title @s subtitle {"text":"> Bask in the winners glory! <","color":"green"}
