# Kills menu items
kill @e[type=item,nbt={Item:{tag:{MenuItem:1b}}}]

# Sets players hotbar menu options based on tags
execute as @a[tag=sigrun_player,tag=!collectSig_available] at @s run replaceitem entity @s hotbar.0 minecraft:barrier{display:{Name:'{"text":"Collect Signature","color":"dark_gray","italic":false}'},HideFlags:63,MenuItem:1b,MenuOption:1b,CustomModelData:1,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=!generalInteract_available] at @s run replaceitem entity @s hotbar.1 minecraft:barrier{display:{Name:'{"text":"General Interact","color":"dark_gray","italic":false}'},HideFlags:63,MenuItem:1b,MenuOption:1b,CustomModelData:1,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=!teleportDisaster_available] at @s run replaceitem entity @s hotbar.3 minecraft:barrier{display:{Name:'{"text":"Teleport To Active Disaster","color":"dark_gray","italic":false}'},MenuItem:1b,MenuOption:1b,HideFlags:63,CustomModelData:1,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=!teleportOhNo_available] at @s run replaceitem entity @s hotbar.4 minecraft:barrier{display:{Name:'{"text":"Teleport To Active Oh No!","color":"dark_gray","italic":false}'},HideFlags:63,MenuItem:1b,MenuOption:1b,CustomModelData:1,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1

execute as @a[tag=sigrun_player,tag=!generalTool1_used] at @s run replaceitem entity @s hotbar.6 minecraft:barrier{display:{Name:'{"text":"General Tool Slot","color":"dark_gray","italic":false}'},HideFlags:63,MenuItem:1b,CustomModelData:2,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=!generalTool2_used] at @s run replaceitem entity @s hotbar.7 minecraft:barrier{display:{Name:'{"text":"General Tool Slot","color":"dark_gray","italic":false}'},MenuItem:1b,HideFlags:63,CustomModelData:3,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=!specialTool_used] at @s run replaceitem entity @s hotbar.8 minecraft:barrier{display:{Name:'{"text":"Special Tool Slot","color":"dark_gray","italic":false}'},HideFlags:63,MenuItem:1b,CustomModelData:4,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1

execute as @a[tag=sigrun_player,tag=collectSig_available] at @s run replaceitem entity @s hotbar.0 minecraft:coal{display:{Name:'{"text":"⇨ Collect Signature ⇦","color":"green","bold":true,"italic":false}'},HideFlags:63,MenuItem:1b,CollectSigAvailable:1b,CustomModelData:1,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=generalInteract_available] at @s run replaceitem entity @s hotbar.1 minecraft:coal{display:{Name:'{"text":"⇨ General Interact ⇦","color":"green","bold":true,"italic":false}'},HideFlags:63,MenuItem:1b,GeneralInteractAvailable:1b,CustomModelData:2,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=teleportDisaster_available] at @s run replaceitem entity @s hotbar.3 minecraft:coal{display:{Name:'[{"text":"⇨ Teleport To Active ","color":"yellow","bold":true,"italic":false},{"text":"Disaster","color":"dark_red"},{"text":" ⇦","color":"yellow"}]'},HideFlags:63,MenuItem:1b,TeleportDisasterAvailable:1b,CustomModelData:3,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
execute as @a[tag=sigrun_player,tag=teleportOhNo_available] at @s run replaceitem entity @s hotbar.4 minecraft:coal{display:{Name:'[{"text":"⇨ Teleport To Active ","color":"yellow","bold":true,"italic":false},{"text":"Oh No!","color":"red"},{"text":" ⇦","color":"yellow"}]'},HideFlags:63,MenuItem:1b,TeleportOhNoAvailable:1b,CustomModelData:4,AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1

scoreboard players set @a[tag=sigrun_player,tag=!in_area] ToolSlot1 0
scoreboard players set @a[tag=sigrun_player,tag=!in_area] ToolSlot2 0
scoreboard players set @a[tag=sigrun_player,tag=!in_area] ToolSlotSpecial 0

execute if score Value OnSigOhNo matches 0 run tag @a remove in_area
execute if score Value OnSigDisaster matches 0 run tag @a remove in_disaster

# Slot1 - 1 = pickaxe
execute as @a[tag=sigrun_player,scores={ToolSlot1=1}] at @s run replaceitem entity @s hotbar.6 minecraft:iron_pickaxe{CanDestroy:["minecraft:brown_terracotta","minecraft:cobblestone"],display:{Name:'{"text":"Utility Pickaxe","color":"blue","italic":false}',Lore:['{"text":"Use me to break blocks at Oh No! or Disaster events.","color":"gray"}']},HideFlags:63,Unbreakable:1b,Enchantments:[{id:"minecraft:efficiency",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1

# Slot1 - 2 = axe
execute as @a[tag=sigrun_player,scores={ToolSlot1=2}] at @s run replaceitem entity @s hotbar.6 minecraft:iron_axe{CanDestroy:["tropicraft:mahogany_log"],display:{Name:'{"text":"Utility Hatchet","color":"blue","italic":false}',Lore:['{"text":"Use me to break blocks at Oh No! or Disaster events.","color":"gray"}']},HideFlags:63,Unbreakable:1b,Enchantments:[{id:"minecraft:efficiency",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1


# Slot2 - 1 = shovel
execute as @a[tag=sigrun_player,scores={ToolSlot2=1}] at @s run replaceitem entity @s hotbar.6 minecraft:iron_shovel{CanDestroy:["minecraft:coarse_dirt","minecraft:brown_concrete_powder"],display:{Name:'{"text":"Utility Shovel","color":"blue","italic":false}',Lore:['{"text":"Use me to break blocks at Oh No! or Disaster events.","color":"gray"}']},HideFlags:63,Unbreakable:1b,Enchantments:[{id:"minecraft:efficiency",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1

# SlotSpecial - 1 = BlueprintTool
execute as @a[tag=sigrun_player,scores={ToolSlotSpecial=1}] at @s run replaceitem entity @s hotbar.6 minecraft:iron_pickaxe{CanDestroy:["minecraft:gray_stained_glass","minecraft:black_stained_glass"],CustomModelData:1,display:{Name:'{"text":"Blueprint Repair Tool","color":"dark_blue","italic":false}',Lore:['{"text":"Use me to repair blueprint blocks (Glass blocks used in disaster events) by breaking them.","color":"gray"}']},HideFlags:63,Unbreakable:1b,Enchantments:[{id:"minecraft:efficiency",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.attackSpeed",Name:"generic.attackSpeed",Amount:50,Operation:2,UUIDLeast:-8821590,UUIDMost:-8917812}]} 1
